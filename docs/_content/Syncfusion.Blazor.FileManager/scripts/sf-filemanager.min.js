(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"./bundles/sf-filemanager.js":function(e,t,s){"use strict";s.r(t);s("./modules/sf-filemanager.js")},"./modules/sf-filemanager.js":function(e,t){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.FileManager=function(){"use strict";var e="e-blur",t=function(){function t(e,t,s,i){this.selectedItems=[],this.element=t,this.properties=i,this.dataId=e,this.treeviewEle=t.querySelector(".e-navigation .e-treeview"),this.dotnetRef=s,this.isMac=navigator.platform.toUpperCase().indexOf("MAC")>=0,sf.base.isNullOrUndefined(this.element)||(this.ctrlId=this.element.id,window.sfBlazor.setCompInstance(this)),this.bindKeyboardEvent(),this.bindTreeViewKeyBoardEvent(),this.wireEvents()}return t.prototype.fmDialogOpen=function(){this.dotnetRef.invokeMethodAsync("FileManagerShowDialog")},t.prototype.unWireMobileEvents=function(){sf.base.isNullOrUndefined(this.clickObj)||this.clickObj.destroy()},t.prototype.wireMobileEvents=function(){var e,t=this;e="Details"===this.properties.view?this.element.querySelector(".e-view-container .e-grid .e-gridcontent"):this.element.querySelector(".e-view-container .e-large-icons"),sf.base.isNullOrUndefined(e)||(this.clickObj=new sf.base.Touch(e,{tapHold:function(e){var s,i;i="Details"===t.properties.view?(s=sf.base.closest(e.originalEvent.target,".e-row"))?s.getAttribute("data-rowindex"):null:(s=sf.base.closest(e.originalEvent.target,"li.e-list-item"))?s.getAttribute("data-uid"):null,null!=s&&null!=i&&t.dotnetRef.invokeMethodAsync("ChangeMobileMultiSelection",i)}}))},t.prototype.wireEvents=function(){this.properties.enableRangeSelection&&this.wireSelectOnDragEvent(!0);var e=this.element.querySelector("#"+this.properties.id+"_grid");e&&sf.base.EventHandler.add(e,"dblclick",this.gridBlur,this);var t=this.element.querySelector("#"+this.properties.id+"_largeicons");if(this.properties.virtualization&&t){var s=t.getElementsByTagName("ul")[0];sf.base.EventHandler.add(s,"scroll",this.onVirtualScroll,this)}},t.prototype.wireSelectOnDragEvent=function(e){this.updateViewElement(),this.viewElem&&(e?this.properties.allowMultiSelection&&sf.base.EventHandler.add(this.viewElem,"mousedown",this.onDragStart,this):sf.base.EventHandler.remove(this.viewElem,"mousedown",this.onDragStart))},t.prototype.onDragStart=function(e){if(this.viewElem){if(this.properties.draggable)if(sf.base.closest(e.target,this.viewElem.classList.contains("e-large-icons")?".e-list-item":".e-fe-text"))return;this.dragX=e.pageX,this.dragY=e.pageY,this.dragSelectElement||(this.dragSelectElement=sf.base.createElement("div",{id:this.properties.id+"_drag",className:"e-filemanager e-drag-select",styles:"left: "+this.dragX+"px;top: "+this.dragY+"px;"}),document.body.append(this.dragSelectElement)),sf.base.EventHandler.add(document,"mouseup",this.onDragStop,this),sf.base.EventHandler.add(this.viewElem,"mousemove",this.onDrag,this),sf.base.EventHandler.add(this.dragSelectElement,"mousemove",this.onDrag,this)}},t.prototype.onDrag=function(e){if(e.stopPropagation(),this.dragSelectElement){var t=e.pageX-this.dragX,s=e.pageY-this.dragY;sf.base.setStyleAttribute(this.dragSelectElement,{left:t<0?this.dragX+t+"px":this.dragX+"px",top:s<0?this.dragY+s+"px":this.dragY+"px",height:Math.abs(s)+"px",width:Math.abs(t)+"px"}),this.selectItems()}else sf.base.EventHandler.remove(this.viewElem,"mousemove",this.onDrag)},t.prototype.onDragStop=function(){this.viewElem&&(sf.base.EventHandler.remove(document,"mouseup",this.onDragStop),sf.base.EventHandler.remove(this.viewElem,"mousemove",this.onDrag)),this.dragSelectElement&&(sf.base.EventHandler.remove(this.dragSelectElement,"mousemove",this.onDrag),this.dragSelectElement.clientHeight>0&&this.dragSelectElement.clientWidth>0&&this.dotnetRef.invokeMethodAsync("SelectItems",this.selectedItems),this.selectedItems=[],sf.base.detach(this.dragSelectElement),this.dragSelectElement=null)},t.prototype.selectItems=function(){this.selectedItems=[];var e=this.dragSelectElement.getBoundingClientRect(),t=sf.base.selectAll(this.viewElem.classList.contains("e-large-icons")?".e-list-item":".e-row",this.viewElem);sf.base.removeClass(sf.base.selectAll(".e-active",this.viewElem),["e-active","e-focus"]),sf.base.removeClass(sf.base.selectAll(".e-check",this.viewElem),["e-check"]);for(var s=0,i=t;s<i.length;s++){var r=i[s],a=r.getBoundingClientRect();!(e.right<a.left||e.left>a.right||e.bottom<a.top||e.top>a.bottom)&&this.dragSelectElement.clientHeight>0&&this.dragSelectElement.clientWidth>0&&(this.viewElem.classList.contains("e-large-icons")?(r.classList.add("e-active"),this.selectedItems.push(r.getAttribute("data-uid"))):(sf.base.addClass(sf.base.selectAll(".e-rowcell",r),["e-active"]),this.selectedItems.push(r.querySelector(".e-drag-text").textContent)),r.querySelector(".e-frame").classList.add("e-check"))}},t.prototype.unWireEvents=function(){this.wireSelectOnDragEvent(!1);var e=this.element.querySelector("#"+this.properties.id+"_grid");e&&sf.base.EventHandler.remove(e,"dblclick",this.gridBlur);var t=this.element.querySelector("#"+this.properties.id+"_largeicons");if(this.properties.virtualization&&t){var s=t.getElementsByTagName("ul")[0];sf.base.EventHandler.remove(s,"scroll",this.onVirtualScroll)}},t.prototype.adjustHeight=function(){var e=sf.base.select("#"+this.element.id+"_toolbar",this.element),t=e?e.offsetHeight:0,s=this.element.querySelector(".e-address").offsetHeight,i=this.element.clientHeight-t-s;return sf.base.formatUnit(this.element.clientHeight-t)+" "+sf.base.formatUnit(i)},t.prototype.createDragObj=function(e){var t,s;"LargeIcons"===this.properties.view?(t=this.element.querySelector(".e-large-icons"),s=".e-large-icon"):(t=this.element.querySelector(".e-grid.e-control"),s=".e-row"),this.properties.draggable||e?(this.dragObj&&this.dragObj.destroy(),t&&this.dragObjProperty(this.dragObj,t,".e-fullrow")):this.properties.draggable||this.dragObj.destroy(),this.treeviewEle?(this.treeDragObj&&this.treeDragObj.destroy(),this.dragObjProperty(this.treeDragObj,this.treeviewEle,s)):this.properties.draggable||this.treeDragObj.destroy()},t.prototype.dragObjProperty=function(e,t,s){var i=this;new sf.base.Draggable(t,{cursorAt:{left:44,top:18},enableTailMode:!0,enableTapHold:!0,dragArea:this.element,dragTarget:s,drag:this.draggingHandler.bind(this),dragStart:function(e){i.dragStartHandler(e)},dragStop:this.dragStopHandler.bind(this),enableAutoScroll:!0,helper:this.dragHelper.bind(this)})},t.prototype.dragHelper=function(e){var t=e.sender.target;return this.getModule(t),"largeiconsview"===this.activeModule||"navigationpane"===this.activeModule?this.dragLi=sf.base.closest(t,".e-list-item"):"detailsview"===this.activeModule&&(this.dragLi=sf.base.closest(t,"tr.e-row"),"false"===this.dragLi.getAttribute("aria-selected")&&t.click()),this.dragLi?(this.createVirtualDragElement(),this.virtualDragElement):null},t.prototype.createVirtualDragElement=function(){this.updateViewElement(),this.updateDragValues(),this.cloneIcon=sf.base.createElement("div",{className:"e-fe-icon "+this.dragType}),this.cloneName=sf.base.createElement("div",{className:"e-fe-name",innerHTML:this.dragName});var e=sf.base.createElement("div",{className:"e-fe-content"});if(e.appendChild(this.cloneIcon),e.appendChild(this.cloneName),this.dragCount>1){var t=sf.base.createElement("span",{className:"e-fe-count",innerHTML:this.dragCount.toString(10)});e.appendChild(t)}var s=sf.base.createElement("div",{className:"e-fe-clone"});s.appendChild(e),this.virtualDragElement=s,this.element.appendChild(this.virtualDragElement)},t.prototype.getModule=function(e){e&&(sf.base.closest(e,".e-row")?this.activeModule="detailsview":sf.base.closest(e,".e-large-icon")?this.activeModule="largeiconsview":this.activeModule="navigationpane")},t.prototype.getXYValue=function(e,t){var s,i=e.changedTouches;if(!(s="X"===t?i?i[0].clientX:e.clientX:i?i[0].clientY:e.clientY)&&"focus"===e.type&&e.target){var r=e.target.getBoundingClientRect();s=r?"X"===t?r.left:r.top:null}return Math.ceil(s)},t.prototype.removeDestroyElement=function(){this.dragObj.intDestroy(this.dragStartArgs.event),this.dragCancel()},t.prototype.TriggerDragEvent=function(e){e&&this.removeDestroyElement()},t.prototype.UpdateGridFocus=function(e){if("Details"===this.properties.view){this.updateViewElement();var t=this.viewElem.querySelectorAll(".e-focused"),s=this.viewElem.querySelector('[data-rowindex="'+e.toString()+'"]');if(t)for(var i=0;i<t.length;i++)sf.base.closest(t[i],"tr").getAttribute("data-rowindex")!==e.toString()&&(sf.base.closest(t[i],"tr").removeAttribute("tabindex"),sf.base.removeClass([t[i]],["e-focus","e-focused"]));sf.base.isNullOrUndefined(s)||(this.viewElem.setAttribute("tabindex","-1"),s.setAttribute("tabindex","0"),sf.base.addClass([s],["e-focus","e-focused"]))}},t.prototype.TriggerDragStartEvent=function(e){if(e)this.removeDestroyElement();else{this.dragStartArgs.bindEvents(this.dragStartArgs.dragElement);var t=this.dragStartArgs;t.cancel=!1,this.getModule(this.dragStartArgs.target);var s=this.element.querySelector(".e-navigation .e-treeview ul li").getAttribute("data-uid");(!this.properties.draggable||"navigationpane"===this.activeModule&&sf.base.closest(this.dragStartArgs.target,"li").getAttribute("data-uid")===s)&&(t.cancel=!0),this.removeBlur(),t.cancel?this.removeDestroyElement():t.cancel||(this.updateViewElement(),this.blurActive(),this.updateDragValues())}},t.prototype.dragStartHandler=function(e){this.dragStartArgs=e,window.sfBlazor.setCompInstance(this),this.UpdateXY(e),"largeiconsview"===this.activeModule?this.dotnetRef.invokeMethodAsync("DragStartCall",this.dragLeft,this.dragTop,e.target.closest("li").getAttribute("data-uid")):this.dotnetRef.invokeMethodAsync("DragStartCall",this.dragLeft,this.dragTop,null)},t.prototype.blurActive=function(){for(var t=0,s=this.viewElem.querySelectorAll(".e-active");t<s.length;)s[t].classList.add(e),t++},t.prototype.updateViewElement=function(){"LargeIcons"===this.properties.view?this.viewElem=this.element.querySelector(".e-large-icons"):this.viewElem=this.element.querySelector(".e-gridcontent")},t.prototype.getIconClass=function(e){return e.querySelector(".e-list-img")?"e-fe-image":e.querySelector(".e-list-icon").classList[1]},t.prototype.updateDragValues=function(){var e;"largeiconsview"===this.activeModule?(e=this.viewElem.querySelectorAll(".e-active"),this.dragName=e.length>0?e[0].querySelector(".e-list-text").textContent:"",this.dragType=e.length>0?this.getIconClass(e[0]):""):"detailsview"===this.activeModule?null!=(e=this.viewElem.querySelectorAll('tr[aria-selected="true"]'))&&e.length>0&&(this.dragName=e.length>0?e[0].querySelector(".e-fe-text").textContent:"",this.dragType=e.length>0?e[0].querySelector(".e-fe-icon").classList[1]:""):"navigationpane"===this.activeModule&&(this.dragName=this.dragLi.querySelector(".e-list-text").textContent,this.dragType="e-fe-folder"),null!=e&&(this.dragCount=e.length)},t.prototype.getTargetModule=function(e){e&&(sf.base.closest(e,".e-gridcontent")?this.targetModule="detailsview":sf.base.closest(e,".e-large-icons")?this.targetModule="largeiconsview":e.classList.contains("e-fullrow")||e.classList.contains("e-icon-expandable")?this.targetModule="navigationpane":sf.base.closest(e,".e-address-list-item")?this.targetModule="breadcrumbbar":this.targetModule="")},t.prototype.draggingHandler=function(t){var s=!1;this.updateDragValues(),this.cloneIcon.setAttribute("class","e-fe-icon "+this.dragType),this.cloneName.innerHTML=this.dragName;var i=null;this.blurActive(),this.getTargetModule(t.target),this.removeDropTarget(),this.removeBlur("hover"),"navigationpane"===this.targetModule?((i=sf.base.closest(t.target,"li")).classList.add("e-hover","e-fe-drop-folder"),s=!0):"detailsview"===this.targetModule?((i=sf.base.closest(t.target,"tr"))&&i.querySelector(".e-fe-folder")&&!i.classList.contains(e)?i.classList.add("e-fe-drop-folder"):!i||i.querySelector(".e-fe-folder")||i.classList.contains(e)||i.classList.add("e-fe-drop-file"),s=!0):"largeiconsview"===this.targetModule?((i=sf.base.closest(t.target,"li"))&&i.querySelector(".e-fe-folder")&&!i.classList.contains(e)&&i.classList.add("e-hover","e-fe-drop-folder"),s=!0):"breadcrumbbar"===this.targetModule&&(s=!0),this.element.classList.remove("e-fe-drop","e-no-drop"),this.element.classList.add(s?"e-fe-drop":"e-no-drop"),this.UpdateXY(t),this.dotnetRef.invokeMethodAsync("DraggingCall",this.dragLeft,this.dragTop)},t.prototype.UpdateXY=function(e){this.dragLeft=this.getXYValue(e.event,"X"),this.dragTop=this.getXYValue(e.event,"Y")},t.prototype.dragStopHandler=function(e){var t,s,i=!1;if(e.cancel=!1,this.removeDropTarget(),this.element.classList.remove("e-fe-drop","e-no-drop"),this.dragCancel(),this.getTargetModule(e.target),""===this.targetModule&&e.target&&e.target.classList.contains("e-view-container")&&(i=!0),this.removeBlur("hover"),"largeiconsview"!==this.targetModule&&"navigationpane"!==this.targetModule&&"breadcrumbbar"!==this.targetModule||!e.target)"detailsview"===this.targetModule&&e.target&&(s=(t=sf.base.closest(e.target,"tr"))?t.getAttribute("data-rowindex"):null);else{t=sf.base.closest(e.target,"li");var r="breadcrumbbar"===this.targetModule?"data-utext":"data-uid";s=t?t.getAttribute(r):null}null==s&&(i=!0);var a=this.treeviewEle?this.dragLi.getAttribute("data-uid"):null;"detailsview"===this.activeModule&&(a=this.dragLi.getAttribute("data-rowindex")),this.UpdateXY(e),this.dotnetRef.invokeMethodAsync("DragStopCall",a,s,this.targetModule,this.activeModule,i,this.dragLeft,this.dragTop),this.dragCount=0,this.dragName="",this.dragType=""},t.prototype.dragCancel=function(){this.removeBlur();var e=sf.base.select(".e-fe-clone",this.element);e&&sf.base.detach(e)},t.prototype.gridBlur=function(e){var t=e.target;"TD"===t.tagName&&t.blur()},t.prototype.removeItemClass=function(e){for(var t=this.element.querySelectorAll("."+e),s=0;s<t.length;s++)t[s].classList.remove(e)},t.prototype.removeDropTarget=function(){this.removeItemClass("e-fe-drop-folder"),this.removeItemClass("e-fe-drop-file")},t.prototype.removeBlur=function(t){for(var s=t?this.element.querySelectorAll(".e-hover"):this.element.querySelectorAll("."+e),i=0;i<s.length;)s[i].classList.remove(t?"e-hover":e),i++},t.prototype.bindTreeViewKeyBoardEvent=function(){var e=this.element.querySelector(".e-navigation"),t={altEnter:"alt+enter",esc:"escape",del:"delete",ctrlX:this.isMac?"cmd+x":"ctrl+x",ctrlC:this.isMac?"cmd+c":"ctrl+c",ctrlV:this.isMac?"cmd+v":"ctrl+v",f2:"f2",shiftF10:"shift+f10"};if(e)new sf.base.KeyboardEvents(e,{keyAction:this.treeviewKeydownHandler.bind(this),keyConfigs:t,eventName:"keydown"})},t.prototype.bindKeyboardEvent=function(){if("Details"===this.properties.view){var e={altEnter:"alt+enter",altN:"alt+n",esc:"escape",tab:"tab",moveDown:"downarrow",ctrlShift1:"ctrl+shift+1",ctrlShift2:"ctrl+shift+2",ctrlEnd:"ctrl+end",ctrlHome:"ctrl+home",ctrlDown:"ctrl+downarrow",ctrlLeft:"ctrl+leftarrow",ctrlRight:"ctrl+rightarrow",shiftEnd:"shift+end",shiftHome:"shift+home",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",ctrlUp:"ctrl+uparrow",csEnd:"ctrl+shift+end",csHome:"ctrl+shift+home",csDown:"ctrl+shift+downarrow",csUp:"ctrl+shift+uparrow",space:"space",ctrlSpace:"ctrl+space",shiftSpace:"shift+space",csSpace:"ctrl+shift+space",end:"end",home:"home",moveUp:"uparrow",del:"delete",back:"backspace",ctrlX:this.isMac?"cmd+x":"ctrl+x",ctrlC:this.isMac?"cmd+c":"ctrl+c",ctrlV:this.isMac?"cmd+v":"ctrl+v",ctrlShiftN:"ctrl+shift+n",shiftdel:"shift+delete",ctrlD:"ctrl+d",f2:"f2",ctrlA:this.isMac?"cmd+a":"ctrl+a",enter:"enter"},t=this.element.querySelector("#"+this.properties.id+"_grid");t&&this.bindKeyboardEvents(e,t)}else if("LargeIcons"===this.properties.view){e={altN:"alt+n",f5:"f5",ctrlShift1:"ctrl+shift+1",ctrlShift2:"ctrl+shift+2",ctrlU:"ctrl+u",end:"end",home:"home",tab:"tab",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlEnd:"ctrl+end",ctrlHome:"ctrl+home",ctrlDown:"ctrl+downarrow",ctrlLeft:"ctrl+leftarrow",ctrlRight:"ctrl+rightarrow",ctrlUp:"ctrl+uparrow",shiftEnd:"shift+end",shiftHome:"shift+home",shiftDown:"shift+downarrow",shiftLeft:"shift+leftarrow",shiftRight:"shift+rightarrow",shiftUp:"shift+uparrow",csEnd:"ctrl+shift+end",csHome:"ctrl+shift+home",csDown:"ctrl+shift+downarrow",csLeft:"ctrl+shift+leftarrow",csRight:"ctrl+shift+rightarrow",csUp:"ctrl+shift+uparrow",space:"space",ctrlSpace:"ctrl+space",shiftSpace:"shift+space",csSpace:"ctrl+shift+space",ctrlA:this.isMac?"cmd+a":"ctrl+a",enter:"enter",altEnter:"alt+enter",esc:"escape",del:"delete",ctrlX:this.isMac?"cmd+x":"ctrl+x",ctrlC:this.isMac?"cmd+c":"ctrl+c",ctrlV:this.isMac?"cmd+v":"ctrl+v",f2:"f2",shiftdel:"shift+delete",back:"backspace",ctrlD:"ctrl+d"};var s=this.element.querySelector("#"+this.properties.id+"_largeicons");s&&this.bindKeyboardEvents(e,s)}},t.prototype.bindKeyboardEvents=function(e,t){this.keyboardModule=new sf.base.KeyboardEvents(t,{keyAction:this.keyupHandler.bind(this),keyConfigs:e,eventName:"keyup"}),this.keyboardDownModule=new sf.base.KeyboardEvents(t,{keyAction:this.keydownHandler.bind(this),keyConfigs:e,eventName:"keydown"})},t.prototype.getRowValue=function(){var e=this.element.querySelector("#"+this.element.id+"_largeicons").querySelectorAll(".e-list-item"),t=1;if(e)for(var s=0,i=e.length-1;s<i&&e[s].getBoundingClientRect().top===e[s+1].getBoundingClientRect().top;s++)t++;return t},t.prototype.onVirtualScroll=function(){var e=this.element.querySelector("#"+this.element.id+"_largeicons");this.scrollPosition=sf.base.isNullOrUndefined(this.scrollPosition)?0:this.scrollPosition;var t=e.getElementsByTagName("ul")[0],s=t.scrollTop<=0?0:t.scrollTop;if(this.virtualChildEleTop=this.listItemHeight*Math.floor(s/this.listItemHeight),this.virtualChildEleTop!==parseFloat(this.virtualChildEle.style.top))if(this.virtualChildEle.style.top=this.virtualChildEleTop+"px",s>this.scrollPosition){var i=Math.round(this.virtualChildEleTop/this.listItemHeight-this.listDiff);this.dotnetRef.invokeMethodAsync("OnVirtualScroll",i,!0)}else{i=Math.round(this.listDiff-this.virtualChildEleTop/this.listItemHeight);this.dotnetRef.invokeMethodAsync("OnVirtualScroll",i,!1)}this.listDiff=Math.round(this.virtualChildEleTop/this.listItemHeight),this.scrollPosition=s},t.prototype.calculateItemCount=function(e){var t=this.element.querySelector("#"+this.element.id+"_largeicons"),s=t.getElementsByTagName("ul")[0],i=s.clientWidth-17,r=t.querySelectorAll(".e-list-item"),a=parseInt(window.getComputedStyle(r[0]).getPropertyValue("margin-right"),10)+parseInt(window.getComputedStyle(r[0]).getPropertyValue("margin-left"),10),o=parseInt(window.getComputedStyle(r[0]).getPropertyValue("margin-top"),10)+parseInt(window.getComputedStyle(r[0]).getPropertyValue("margin-bottom"),10),l=Math.floor(parseFloat(sf.base.formatUnit(i))/(r[0].offsetWidth+a));this.listItemHeight=r[0].getBoundingClientRect().height+o,this.columnItemCount=Math.round(parseFloat(sf.base.formatUnit(t.clientHeight))/r[0].offsetHeight)+1;var n=l*this.columnItemCount;this.lastRowCount=e%l?e%l:l;var c=e<l?this.listItemHeight:Math.round(e/l)*this.listItemHeight;return t.querySelector(".e-virtual-parent").style.height=c+"px",this.virtualChildEle=t.querySelector(".e-virtual-child"),this.virtualChildEle.style.top="0px",this.virtualChildEleTop=0,this.listDiff=0,s.scrollTop=0,n+" "+l+" "+this.lastRowCount},t.prototype.keyupHandler=function(e){e.preventDefault();var t=0;"LargeIcons"===this.properties.view&&(t=this.getRowValue());var s=null;switch(e.action){case"altN":s="NewFolder";break;case"f5":s="Refresh";break;case"ctrlShift1":s="DetailsView";break;case"ctrlShift2":s="LargeIconsView";break;case"ctrlU":this.element.querySelector("#"+this.element.id+"_tb_upload")&&(s="Upload");break;case"altEnter":s="Details";break;case"del":case"shiftdel":s="Delete";break;case"enter":s="Open";break;case"ctrlC":s="Copy";break;case"ctrlV":s="Paste";break;case"ctrlX":s="Cut";break;case"ctrlD":s="Download";break;case"f2":s="Rename";break;case"ctrlA":s="SelectAll";break;case"home":s="Home";break;case"end":s="End";break;case"moveDown":s="MoveDown_"+t.toString();break;case"moveLeft":s="MoveLeft";break;case"moveRight":s="MoveRight";break;case"moveUp":s="MoveUp_"+t.toString();break;case"esc":s="Esc";break;case"ctrlLeft":s="ControlLeft";break;case"ctrlRight":s="ControlRight";break;case"ctrlEnd":s="ControlEnd";break;case"ctrlHome":s="ControlHome";break;case"shiftHome":s="ShiftHome";break;case"shiftEnd":s="ShiftEnd";break;case"shiftLeft":s="ShiftLeft";break;case"shiftRight":s="ShiftRight";break;case"csHome":s="ControlShiftHome";break;case"csEnd":s="ControlShiftEnd";break;case"csLeft":s="ControlShiftLeft";break;case"csRight":s="ControlShiftRight";break;case"ctrlUp":s="ControlUp_"+t.toString();break;case"shiftUp":s="ShiftUp_"+t.toString();break;case"csUp":s="ControlShiftUp_"+t.toString();break;case"ctrlDown":s="ControlDown_"+t.toString();break;case"shiftDown":s="ShiftDown_"+t.toString();break;case"csDown":s="ControlShiftDown_"+t.toString();break;case"space":s="Space";break;case"csSpace":s="ControlShiftSpace";break;case"shiftSpace":s="ShiftSpace";break;case"ctrlSpace":s="ControlSpace";break;case"tab":s="Tab";break;case"back":s="BackSpace"}s&&this.dotnetRef.invokeMethodAsync("PerformKeyboardAction",s)},t.prototype.treeviewKeydownHandler=function(e){if(e.preventDefault(),null==this.element.querySelector(".e-dialog.e-popup-open")){var t=null;switch(e.action){case"altEnter":t="Details";break;case"esc":t="Esc";break;case"del":t="Delete";break;case"ctrlC":t="Copy";break;case"ctrlV":t="Paste";break;case"ctrlX":t="Cut";break;case"shiftF10":t="Download";break;case"f2":t="Rename"}t&&this.dotnetRef.invokeMethodAsync("PerformTreeViewKeyboardAction",t)}},t.prototype.keydownHandler=function(e){if(null==this.element.querySelector(".e-dialog.e-popup-open"))switch(e.action){case"end":case"home":case"space":case"ctrlSpace":case"shiftSpace":case"csSpace":case"ctrlA":case"enter":case"altEnter":case"ctrlEnd":case"shiftEnd":case"csEnd":case"ctrlHome":case"shiftHome":case"csHome":case"ctrlDown":case"shiftDown":case"csDown":case"ctrlLeft":case"shiftLeft":case"csLeft":case"esc":case"del":case"shiftdel":case"ctrlC":case"ctrlV":case"ctrlX":case"f2":case"moveDown":case"moveUp":case"ctrlD":case"altN":case"f5":case"ctrlShift1":case"ctrlShift2":case"ctrlU":e.preventDefault()}},t}();return{initialize:function(e,s,i,r,a){new t(e,s,i,r);var o=window.sfBlazor.getCompInstance(e),l=s.getElementsByClassName("e-content");return sf.base.isNullOrUndefined(l[0])||"flex"!==l[0].style.display||l[0].style.removeProperty("display"),!sf.base.isNullOrUndefined(o)&&r.draggable&&o.createDragObj(),o.isMobile=a,o.adjustHeight()},dragStartActionContinue:function(e,t){var s=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(s)||s.TriggerDragStartEvent(t)},wireMobileEvents:function(e){var t=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(t)||(t.wireMobileEvents(),t.createDragObj(!0))},dragActionContinue:function(e,t){var s=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(s)||s.TriggerDragEvent(t)},focusItem:function(e,t){var s=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(s)&&"LargeIcons"===s.properties.view){var i=s.element.querySelector('.e-list-item.e-large-icon[data-uid="'+t+'"]');i&&i.focus()}},getItemCount:function(e,t){var s=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(s))return s.calculateItemCount(t)},updateProperties:function(e,t){var s=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(s))return s.properties=t,s.unWireEvents(),s.wireEvents(),s.isMobile&&(s.unWireMobileEvents(),s.wireMobileEvents()),s.adjustHeight()},uploadOpen:function(e,t,s){var i=window.sfBlazor.getCompInstance(e),r=(sf.base.isNullOrUndefined(s)?i.element:document.querySelector(s)).querySelector("#"+t);r&&!sf.base.Browser.isIos?r.click():i.fmDialogOpen()},triggerBlur:function(e){var t=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(t)||"TD"!==document.activeElement.tagName||document.activeElement.blur()},updateFocus:function(e,t){var s=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(s)||s.UpdateGridFocus(t)},updateView:function(e,t){var s=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(s)||(s.properties.view=t,s.keyboardDownModule.destroy(),s.keyboardModule.destroy(),"Details"!==t&&s.bindKeyboardEvent(),s.isMobile&&(s.unWireMobileEvents(),s.wireMobileEvents()),"LargeIcons"===t&&s.properties.virtualization&&s.wireEvents()),s.properties.draggable&&s.createDragObj()},updateGridRow:function(e,t){if(e){for(var s=e.querySelectorAll('tr.e-row[tabindex="0"]'),i=0;i<s.length;i++)s[i].removeAttribute("tabindex");var r=e.querySelector('[data-rowindex="'+t+'"]');r&&(r.setAttribute("tabindex","0"),r.focus())}},focusToolbar:function(e,t){var s=window.sfBlazor.getCompInstance(e),i=s.element.querySelector(t);!sf.base.isNullOrUndefined(s)&&i&&i.children[0].focus()},saveFile:function(e,t,s){var i=window.sfBlazor.getCompInstance(s),r={action:"download",path:e.path,names:e.names,data:e.data,customData:e.customData},a=sf.base.createElement("form",{id:i.element.id+"_downloadForm",attrs:{action:t,method:"post",name:"downloadForm",download:""}}),o=sf.base.createElement("input",{id:i.element.id+"_hiddenForm",attrs:{name:"downloadInput",value:JSON.stringify(r),type:"hidden"}});a.appendChild(o),document.body.appendChild(a),document.forms.namedItem("downloadForm").submit(),document.body.removeChild(a)},download:function(e,t){var s=new Blob([t],{type:"application/octet-stream"}),i=document.createElement("a");i.href=URL.createObjectURL(s),i.download=e,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)},getTargetElement:function(e,t,s){var i,r,a=document.elementFromPoint(t,s),o=sf.base.closest(a,'li[role="treeitem"]');if(a)if(a.classList.contains("e-yscroll")&&a.classList.contains("e-content")||a.classList.contains("e-list-parent")&&a.classList.contains("e-ul")||a.classList.contains("e-view-container")||a.classList.contains("e-large-icons")||a.classList.contains("e-virtual-parent")||sf.base.closest(a,".e-empty.e-view-container"))r={IsFile:!1,RowIndex:null,IsFolder:!1,IsLayout:!0,IsTree:!1};else if(o){r={IsFile:!1,RowIndex:null,TargetID:o.getAttribute("data-uid"),IsFolder:!0,IsLayout:!1,IsTree:!0}}else{if("Details"===e)r={IsFile:l=!(i=sf.base.closest(a,"tr")).querySelector(".e-fe-grid-icon .e-fe-icon").classList.contains("e-fe-folder"),RowIndex:parseInt(i.getAttribute("data-rowindex"),10),IsFolder:!l,IsLayout:!1,IsTree:!1};else if("LargeIcons"===e){var l,n=(i=sf.base.closest(a,"li")).querySelector(".e-list-icon");r={IsFile:l=!n||!n.classList.contains("e-fe-folder"),RowIndex:null,TargetID:i.getAttribute("data-uid"),IsFolder:!l,IsLayout:!1,IsTree:!1}}}else r={IsFile:!1,RowIndex:null,IsFolder:!1,IsLayout:!1,IsTree:!1};return r},removeRefElement:function(e){var t=window.sfBlazor.getCompInstance(e),s=sf.base.select(".e-dlg-ref-element",t.element);sf.base.detach(s.parentElement)}}}()}}]);(async()=>{await import(`${document.baseURI}_content/Syncfusion.Blazor.Core/scripts/syncfusion-blazor-base.min.js?v=27.2.undefined`).then(()=>{sfBlazor.loadDependencies('sffilemanager');})})();